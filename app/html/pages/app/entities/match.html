{% extends 'layouts/base.html' %}

{% block title %}Match Entity{% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}

{% endblock stylesheets %}

{% block content %}

<div class="">
    <div class="container col-sm-10 col-md-10 col-lg-8 mx-auto">
        <div class=" text-center">
            <div class="row g-0">
                <div class="col col-12">
                    <div class="resize-text">
                        <h2>Match Entity<em>.</em></h2>
                    </div>


                    <div class="col-lg-12 mx-auto pt-4 pb-0">
                        <a href="javascript:history.go(-1)" class="btn btn-primary px-4 gap-3 rounded-pill">Back to Previous Page</a>
                        <!-- <a href="/app/connection/myob" class="btn btn-lg btn-outline-primary px-4 gap-3">Connect another organisation via
                            MYOB</a> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <form id="entity-transaction-match-form">
        <div class="row">
            <div class="col-sm-6 border-end"></div>
            <div class="col-sm-6">&nbsp;</div>
        </div>
        <div class="row ">
            <div class="col-sm-6 border rounded-top-5 border-bottom-0 border-end-1 p-5 unrounded-top-right resize-text">

                <h4 class="pb-2 text-primary">Transaction</h4>

                <div class="row pt-2 border-top">
                    <div class="col-12">
                        <label class="form-label" for="entity_identifier_payee">Payee</label>
                        <input type="text" name="entity[identifier][payee]" class="form-control" placeholder="Acme Co Limited" id="entity_identifier_payee" value="{{ transaction_payee }}">
                    </div>

                    <input type="hidden" id="entity_identifier_reference" value=""/>
                    <input type="hidden" id="entity_identifier_code" value=""/>


                    <!--

                    <div class="col-3">
                        <label class="form-label" for="entity_identifier_reference">Reference</label>
                        <input type="text" name="entity[identifier][reference]" class="form-control" placeholder="Acme Co Limited" id="entity_identifier_reference" value="{{ transaction_reference }}">

                    </div>

                    <div class="col-3 ">
                        <label class="form-label" for="entity_identifier_code">Code</label>
                        <input type="text" name="entity[identifier][code]" class="form-control" placeholder="Acme Co Limited" id="entity_identifier_code" value="{{ transaction_code }}">

                    </div>
                    -->
                    <div class="col-12 mb-3">
                        <div class="form-text form-control-sm ps-0">Refine the match to Entity to Payee. Note: remove random numbers as part of payee etc.</div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <p>
                            <a href="#" id="entities-feed-match-search" class="btn btn-primary btn-sm px-4 gap-3 rounded-pill"><i class="bi bi-search"></i> Find Matching Transactions</a>
                        </p>
                    </div>

                </div>
                <div id="entities-feed-match-results"></div>

            </div>
            <div class="col-sm-6 border rounded-top-5 border-bottom-0 border-start-0 p-5 unrounded-top-left bg-body-secondary">

                <h4 class="pb-2">Search Entities</h4>

                <div class="row g-0 pt-2 border-top">
                    <div class="col-12 mb-3 ps-0">
                        <label class="form-label" for="entity_name">Company Legal Name</label>
                        <input type="entity[name_legal]" class="form-control" placeholder="Acme Co Limited" id="entity_name" aria-describedby="entity_name_legal_help" value="{% if entity %}{{ entity.name_legal }}{% endif %}">
                        <div id="entity_name_legal_help" class="form-text form-control-sm ps-0">The name found in either trading or legal name(s).</div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <p>
                            <a href="#" id="entities-search" class="btn btn-primary btn-sm px-4 gap-3 rounded-pill"><i class="bi bi-search"></i> Search Entities</a>
                        </p>
                    </div>
                    <div class="col-6 text-end">
                        <p>
                            <a href="/app/entities/new?payee={{ transaction_payee }}&reference={{ transaction_reference }}&code={{ transaction_code }}&transaction_id={{ transaction.id }}" class="btn btn-secondary btn-sm px-4 gap-3 rounded-pill">Create Entity</a>
                        </p>

                    </div>
                    <div id="entities-match-results"></div>
                </div>


            </div>
        </div>

        <div class="row">
            <div class="col-sm-6 border-bottom border-start rounded-bottom-5 p-3 pb-0 pe-3 ps-3 unrounded-bottom-right">

            </div>

            <div class="col-sm-6 border border-top-0 rounded-bottom-5 border-start-0 pe-3 unrounded-bottom-left text-end bg-body-secondary">

            </div>
        </div>
    </form>
</div>

{% endblock content %}


<!-- Specific JS goes HERE -->
{% block javascript %}

{% endblock javascript %}
